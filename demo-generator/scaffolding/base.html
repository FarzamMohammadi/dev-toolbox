<!-- Template: Copy this file to output/ to start a new scene. Paths are relative to output/. -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scene: [SCENE_NAME]</title>
  <link rel="stylesheet" href="../scaffolding/styles/reset.css">
  <link rel="stylesheet" href="../scaffolding/styles/core.css">
  <link rel="stylesheet" href="../scaffolding/styles/effects.css">
  <style>
    /* Scene-specific styles go here */
  </style>
</head>
<body>
  <div id="scene" class="scene">
    <!-- Scene content goes here -->
    <div class="flex-col gap-4 text-center">
      <h1 class="heading-1 hidden" data-animate>Demo Generator</h1>
      <p class="body-lg text-secondary hidden" data-animate>Base template â€” replace this content</p>
    </div>
  </div>

  <div id="hud"></div>

  <script type="module">
    import { animate, stagger } from "https://cdn.jsdelivr.net/npm/motion@12/+esm";
    import { BeatTimeline, loadBeats, createFixedBeats } from "../scaffolding/js/beat-sync.js";
    import { initScene } from "../scaffolding/js/scene-controller.js";
    import { initHUD } from "../scaffolding/js/hud.js";

    // === SCENE CONFIG ===
    const scene = initScene({
      name: '[SCENE_NAME]',
      duration: 10,
    });

    // === BEAT SYNC (optional) ===
    // Option A: Load beats from analyzed music
    // const beats = await loadBeats('beats.json');
    // Option B: Fixed timing (no music)
    const beats = createFixedBeats({ bpm: 120, duration: scene.duration });
    const timeline = new BeatTimeline(beats);

    // === HUD ===
    initHUD(scene, timeline);

    // === ANIMATIONS ===
    scene.onPlay(() => {
      // Replace with scene-specific animations
      animate('[data-animate]', {
        opacity: [0, 1],
        y: [20, 0],
      }, {
        duration: 0.8,
        ease: 'easeOut',
        delay: stagger(0.2),
      });
    });

    scene.onRestart(() => {
      // Reset elements for replay
      document.querySelectorAll('[data-animate]').forEach(el => {
        el.style.opacity = '0';
        el.style.transform = '';
      });
    });
  </script>
</body>
</html>
